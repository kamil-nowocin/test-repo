name: TEST | Regression Testing

on: [push, pull_request]

concurrency:
  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
  cancel-in-progress: false

env:
  CURRENT_TIME: ${{ (github.event_name == 'schedule' && github.event.schedule_time || github.run_id) }}

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set current time
        id: set_time
        run: echo "CURRENT_TIME=$(date -u +'%Y-%m-%d %H:%M:%S')" >> $GITHUB_ENV

      - name: Print current time
        run: echo "The current time is ${{ env.CURRENT_TIME }}"

      - name: Build and test
        run: |
          echo "Running build and tests at ${{ env.CURRENT_TIME }}"
          # Add your build and test commands here

run-name: ${{ format('👷🚧[#{0}][TEST] Executing {1} at {2}', github.run_number, github.event_name == 'schedule' && 'scheduled tests' || format('tests of {0} on {1}🌍', github.event.inputs.testModule || github.event.client_payload.testModule, github.event.inputs.testEnvironment || github.event.client_payload.testEnvironment), env.CURRENT_TIME) }}